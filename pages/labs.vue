<template>
  <div class="container mx-auto py-12">
    <section>SCROLL DOWN</section>
    <div class="container-labs">
      <div class="circle_container cursor-link circle-1">
        <div class="circle"><img src="/img/img2.jpg" /></div>
      </div>
      <div class="circle_container cursor-link circle-2">
        <div class="circle"><img src="/img/img2.jpg" /></div>
      </div>
      <div class="circle_container cursor-link circle-3">
        <div class="circle"><img src="/img/img2.jpg" /></div>
      </div>
      <div class="circle_container cursor-link circle-4">
        <div class="circle"><img src="/img/img2.jpg" /></div>
      </div>
      <div class="circle_container cursor-link circle-5">
        <div class="circle"><img src="/img/img2.jpg" /></div>
      </div>
      <div class="circle_container cursor-link circle-6">
        <div class="circle"><img src="/img/img2.jpg" /></div>
      </div>
      <div class="circle_container cursor-link circle-7">
        <div class="circle"><img src="/img/img2.jpg" /></div>
      </div>
      <div class="circle_container cursor-link circle-8">
        <div class="circle"><img src="/img/img2.jpg" /></div>
      </div>
      <div class="circle_container cursor-link circle-9">
        <div class="circle"><img src="/img/img2.jpg" /></div>
      </div>
      <div class="circle_container cursor-link circle-10">
        <div class="circle"><img src="/img/img2.jpg" /></div>
      </div>
      <div class="circle_container cursor-link circle-11">
        <div class="circle"><img src="/img/img2.jpg" /></div>
      </div>
      <div class="circle_container cursor-link circle-12">
        <div class="circle"><img src="/img/img2.jpg" /></div>
      </div>
    </div>
    <div class="container-labs">
      <div class="circle_container cursor-link circle-1">
        <div class="circle"><img src="/img/img2.jpg" /></div>
      </div>
      <div class="circle_container cursor-link circle-2">
        <div class="circle"><img src="/img/img2.jpg" /></div>
      </div>
      <div class="circle_container cursor-link circle-3">
        <div class="circle"><img src="/img/img2.jpg" /></div>
      </div>
      <div class="circle_container cursor-link circle-4">
        <div class="circle"><img src="/img/img2.jpg" /></div>
      </div>
      <div class="circle_container cursor-link circle-5">
        <div class="circle"><img src="/img/img2.jpg" /></div>
      </div>
      <div class="circle_container cursor-link circle-6">
        <div class="circle"><img src="/img/img2.jpg" /></div>
      </div>
      <div class="circle_container cursor-link circle-7">
        <div class="circle"><img src="/img/img2.jpg" /></div>
      </div>
      <div class="circle_container cursor-link circle-8">
        <div class="circle"><img src="/img/img2.jpg" /></div>
      </div>
      <div class="circle_container cursor-link circle-9">
        <div class="circle"><img src="/img/img2.jpg" /></div>
      </div>
      <div class="circle_container cursor-link circle-10">
        <div class="circle"><img src="/img/img2.jpg" /></div>
      </div>
      <div class="circle_container cursor-link circle-11">
        <div class="circle"><img src="/img/img2.jpg" /></div>
      </div>
      <div class="circle_container cursor-link circle-12">
        <div class="circle"><img src="/img/img2.jpg" /></div>
      </div>
    </div>
    <div class="container-labs">
      <div class="circle_container cursor-link circle-1">
        <div class="circle"><img src="/img/img2.jpg" /></div>
      </div>
      <div class="circle_container cursor-link circle-2">
        <div class="circle"><img src="/img/img2.jpg" /></div>
      </div>
      <div class="circle_container cursor-link circle-3">
        <div class="circle"><img src="/img/img2.jpg" /></div>
      </div>
      <div class="circle_container cursor-link circle-4">
        <div class="circle"><img src="/img/img2.jpg" /></div>
      </div>
      <div class="circle_container cursor-link circle-5">
        <div class="circle"><img src="/img/img2.jpg" /></div>
      </div>
      <div class="circle_container cursor-link circle-6">
        <div class="circle"><img src="/img/img2.jpg" /></div>
      </div>
      <div class="circle_container cursor-link circle-7">
        <div class="circle"><img src="/img/img2.jpg" /></div>
      </div>
      <div class="circle_container cursor-link circle-8">
        <div class="circle"><img src="/img/img2.jpg" /></div>
      </div>
      <div class="circle_container cursor-link circle-9">
        <div class="circle"><img src="/img/img2.jpg" /></div>
      </div>
      <div class="circle_container cursor-link circle-10">
        <div class="circle"><img src="/img/img2.jpg" /></div>
      </div>
      <div class="circle_container cursor-link circle-11">
        <div class="circle"><img src="/img/img2.jpg" /></div>
      </div>
      <div class="circle_container cursor-link circle-12">
        <div class="circle"><img src="/img/img2.jpg" /></div>
      </div>
    </div>
    <div class="container-labs">
      <div class="circle_container cursor-link circle-1">
        <div class="circle"><img src="/img/img2.jpg" /></div>
      </div>
      <div class="circle_container cursor-link circle-2">
        <div class="circle"><img src="/img/img2.jpg" /></div>
      </div>
      <div class="circle_container cursor-link circle-3">
        <div class="circle"><img src="/img/img2.jpg" /></div>
      </div>
      <div class="circle_container cursor-link circle-4">
        <div class="circle"><img src="/img/img2.jpg" /></div>
      </div>
      <div class="circle_container cursor-link circle-5">
        <div class="circle"><img src="/img/img2.jpg" /></div>
      </div>
      <div class="circle_container cursor-link circle-6">
        <div class="circle"><img src="/img/img2.jpg" /></div>
      </div>
      <div class="circle_container cursor-link circle-7">
        <div class="circle"><img src="/img/img2.jpg" /></div>
      </div>
      <div class="circle_container cursor-link circle-8">
        <div class="circle"><img src="/img/img2.jpg" /></div>
      </div>
      <div class="circle_container cursor-link circle-9">
        <div class="circle"><img src="/img/img2.jpg" /></div>
      </div>
      <div class="circle_container cursor-link circle-10">
        <div class="circle"><img src="/img/img2.jpg" /></div>
      </div>
      <div class="circle_container cursor-link circle-11">
        <div class="circle"><img src="/img/img2.jpg" /></div>
      </div>
      <div class="circle_container cursor-link circle-12">
        <div class="circle"><img src="/img/img2.jpg" /></div>
      </div>
    </div>
    <section>SCROLL UP</section>
  </div>
</template>
<script setup>
import gsap from "gsap";
import ScrollTrigger from "gsap/ScrollTrigger";
const elements_circles = [];
onMounted(() => {
  gsap.registerPlugin(ScrollTrigger);
  ScrollTrigger.batch(".circle_container", {
    onEnter: (elements) => {
      gsap.to(elements, {
        opacity: 1,
        y: 0,
        scale: 1,
        ease: "back.out(1.2)",
        delay: 0.1,
        onComplete: function () {
          this.targets().forEach((element) => {
            if (!element.initialized) {
              const size = element.querySelector(".circle").offsetWidth;
              const originalX =
                element.querySelector(".circle").offsetLeft + size / 2;
              const originalY =
                element.querySelector(".circle").offsetTop + size / 2;
              const circ = element.querySelector(".circle");
              const rect = circ.getBoundingClientRect();
              const data = {
                element: circ,
                radius: rect.width / 2,
                originalX: rect.left + window.scrollX,
                originalY: rect.top + window.scrollY,
                currentX: rect.left + window.scrollX,
                currentY: rect.top + window.scrollY,
              };
              elements_circles.push(data);
              element.initialized = true;
            }
          });
        },
      });
    },
  });
});
</script>
